# Демо: пакет документов для клиента

## Время: ~15 минут

## Что здесь

- `clients.csv` -- 10 клиентов: компания, контакт, ИНН, тип договора, сумма, услуга, даты (CSV с разделителем ";")
- `service-list.md` -- список услуг компании "Вектор" с описанием и ценами

## Подготовка

Если в предыдущих демо использовался проектный CLAUDE.md из `claude-md-intro/project-example.md`, оставьте его -- в нем реквизиты компании "Вектор", формат дат, правила оформления документов. Если нет -- демо все равно сработает, но Claude придется давать реквизиты вручную.

## Ход демо

### Шаг 1: Показываем данные (2 мин)

Открываем `clients.csv`. Обращаем внимание:
- 10 клиентов с разными услугами и суммами
- Есть абонентские договоры (помесячная оплата) и разовые
- Даты начала и окончания -- Claude должен учесть их в договоре

Открываем `service-list.md`:
- 5 услуг с описаниями и ценами
- Условия оплаты: предоплата 50%, НДС 20%
- Общие условия: NDA, командировки

### Шаг 2: Генерируем документы для одного клиента (5 мин)

Выбираем клиента из таблицы. Например, клиент #2 (АО "ТехноСтрой", операционный аудит):

```
Прочитай clients.csv и service-list.md. Для клиента #2 (АО "ТехноСтрой") сгенерируй три документа:

1. Счет на оплату -- на 50% предоплаты (90 000 руб)
2. Договор оказания услуг -- стандартный, с предметом, сроками, стоимостью и реквизитами обеих сторон
3. Акт выполненных работ -- заготовка (дата будет по окончании)

Сохрани каждый документ в отдельный файл в папке technostroy/.
```

Пока Claude работает, объясняем:
- Claude читает данные клиента из CSV
- Подтягивает описание услуги и цену из service-list.md
- Если есть CLAUDE.md -- берет оттуда реквизиты и формат

### Шаг 3: Разбираем результат (3 мин)

Открываем сгенерированные файлы. Проверяем:

Счет:
- Правильный ли клиент и сумма?
- Есть ли реквизиты обеих сторон?
- НДС выделен?
- Формат дат по стандарту?

Договор:
- Предмет соответствует услуге?
- Сроки совпадают с таблицей (01.02.2026 -- 30.04.2026)?
- Стоимость правильная (180 000 руб)?
- Порядок оплаты (50% предоплата)?
- Реквизиты обеих сторон?

Акт:
- Привязан к договору?
- Перечень работ соответствует услуге?
- Сумма совпадает?

Если что-то не так, показываем как исправить:

```
В договоре добавь пункт про NDA -- он указан в общих условиях service-list.md. И исправь: оплата не "по факту завершения", а "предоплата 50%, остаток по факту".
```

### Шаг 4 (бонус): Пакетная генерация (3 мин)

Если есть время, показываем пакетную обработку:

```
Сгенерируй счета на предоплату для всех 10 клиентов из clients.csv. Для каждого создай отдельный файл в папке invoices/. Имя файла -- invoice-{id}-{компания}.md.
```

Обращаем внимание: Claude обрабатывает всех клиентов за один запрос. В ручном режиме это 10 раз открыть шаблон, заполнить данные, проверить, сохранить.

### Шаг 5 (бонус): PDF (2 мин)

```
Сконвертируй договор для ТехноСтрой в PDF.
```

## Пример результата

Фрагмент сгенерированного счёта (примерно):

> СЧЕТ НА ОПЛАТУ № 2026-02-001
>
> Плательщик: АО "ТехноСтрой", ИНН 7702345678
> Получатель: ООО "Вектор", ИНН 7712345678
>
> | Наименование | Сумма |
> |-------------|-------|
> | Операционный аудит (предоплата 50%) | 90 000,00 руб. |
> | в т.ч. НДС 20% | 15 000,00 руб. |

## На что обратить внимание аудитории

1. Claude берет данные из двух источников (таблица + прайс) и сопоставляет их. Копировать данные вручную не нужно
2. Документы -- черновики, не готовые юридические документы. Юрист должен проверить договор перед подписанием
3. Но рутинная работа (заполнение реквизитов, подстановка сумм, расчет НДС) сделана автоматически
4. Формат документов можно менять -- попросить в Word, PDF, или оставить в Markdown

## Варианты расширения

```
Сгенерируй для каждого клиента сопроводительное письмо к договору. Тон -- деловой, 3-4 предложения.
```

```
Создай сводную таблицу по всем клиентам: компания, услуга, сумма, статус (новый/действующий), дата следующего платежа.
```

```
Для клиентов с абонентским договором сгенерируй ежемесячные счета на февраль, март и апрель.
```

## Типичные вопросы

**В: А если у нас свой шаблон договора?**
О: Положите шаблон в папку и укажите Claude: "Используй шаблон из contract-template.docx". Claude заполнит плейсхолдеры данными клиента.

**В: Можно ли генерировать в Word/Excel?**
О: Да. Claude может создавать .docx и .xlsx файлы. Укажите формат в промпте.

**В: Как быть с ЭДО?**
О: Claude генерирует документы как файлы. Загрузка в ЭДО (Диадок, СБИС) -- отдельный шаг. На занятии 3 покажем, как подключать внешние сервисы через MCP.

**В: А если клиент из Казахстана -- другая валюта?**
О: Укажите в промпте или добавьте колонку "валюта" в CSV. Claude адаптирует документы.

## Если что-то пошло не так

| Ситуация | Что делать |
|----------|------------|
| Claude перепутал клиентов | Проверьте что в CSV нет дублей и что Claude прочитал нужную строку. Можно уточнить: "Клиент #2, ИНН 7702345678" |
| Неправильная сумма НДС | Claude иногда считает НДС неверно (20% от суммы вместо выделения из суммы). Уточните: "Сумма 180 000 руб -- это уже с НДС. Выдели НДС: 180 000 / 1.2 * 0.2 = 30 000 руб" |
| Реквизиты клиента неполные | В CSV есть только ИНН. Остальные реквизиты Claude выдумает. Предупредите аудиторию: в реальной работе реквизиты берут из договора или запрашивают у клиента |
| Claude создал все документы в один файл | Попросите разделить: "Каждый документ в отдельный файл" |
