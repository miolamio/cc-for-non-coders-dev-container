# Портфолио-сайт без дизайнера (agent team)

## Что показываем

Три агента создают одностраничный сайт для консалтинговой компании "Формат". Один пишет тексты, другой верстает, третий добавляет форму обратной связи с валидацией. Когда верстальщику не хватает информации для блока, он спрашивает у текстовика напрямую и получает ответ.

## Время выполнения

- **Claude (Opus 4.6):** 5-10 минут
- **GLM 4.7:** 10-15 минут (верстальщик иногда начинает раньше, чем копирайтер закончит; с GLM это проявляется чаще, и может потребоваться повторный промпт)

## Данные

Файл `services-and-cases.md` содержит:
- Описание компании (чем занимаются, сколько людей, с какого года)
- 4 услуги с описанием, сроками и ценами
- 6 кейсов с конкретными результатами (цифры, сроки, до/после)
- Контакты

## Роли агентов

**Агент 1 -- Копирайтер.** Берёт services-and-cases.md и превращает в тексты для сайта: hero-секция (заголовок + подзаголовок), блок услуг (короткие описания), блок кейсов (выжимки с цифрами), блок "О компании", CTA.

**Агент 2 -- Верстальщик.** Создаёт HTML + CSS: адаптивная вёрстка, секции для каждого блока, навигация, типографика. Использует тексты от агента 1.

**Агент 3 -- Форма обратной связи.** Добавляет контактную форму: имя, email/телефон, сообщение. JavaScript-валидация на клиенте: проверка заполненности, формат email, длина сообщения. При отправке -- заглушка (alert или модальное окно) вместо реального бэкенда.

## Как запустить демо

```
cd sessions/05-agent-teams/demo/portfolio-site
claude
```

Промпт:

```
Создай одностраничный сайт-портфолио для консалтинговой компании. Исходные данные — в файле services-and-cases.md.

Распредели работу:
1. Первый агент — копирайтер. Напиши тексты для всех блоков сайта: hero, услуги, кейсы, о компании, призыв к действию. Тексты должны быть конкретными, с цифрами из кейсов. Без воды и маркетинговых клише.
2. Второй агент — верстальщик. Сделай HTML + CSS. Адаптивная вёрстка, чистый дизайн, работает на мобильных. Используй тексты от первого агента.
3. Третий агент — форма. Добавь контактную форму с валидацией: имя (обязательно), email или телефон (хотя бы одно), сообщение (минимум 10 символов). JavaScript без фреймворков.

Верстальщик: если не хватает текста или нужно уточнение — спроси у копирайтера.

Результат — index.html, который можно открыть в браузере.
```

## На что обратить внимание студентов

### 1. Верстальщик спрашивает у копирайтера

Это центральный момент демо. Агент 2 (верстальщик) начинает собирать HTML, доходит до секции кейсов и понимает, что ему нужны короткие заголовки (копирайтер дал длинные описания). Он пишет агенту 1: "Мне нужны заголовки для карточек кейсов -- 5-7 слов, чтобы поместились в карточку. Сейчас текст слишком длинный."

Копирайтер отвечает короткими заголовками, верстальщик подставляет. Всё без участия инструктора.

Покажите это сообщение. Это принципиальное отличие от субагентов: там верстальщик получил бы текст "как есть" и работал бы с тем, что есть.

### 2. Синхронизация файлов

Все три агента вносят изменения в index.html (или агент 1 пишет текст отдельно, а агент 2 встраивает). Покажите, как team lead координирует: сначала копирайтер готовит тексты, верстальщик встраивает, форма добавляется в конце.

Иногда агенты работают в разных файлах (copy.md, styles.css, form.js), а потом собирают в один index.html. Это тоже нормально.

### 3. Адаптивная вёрстка

Верстальщик делает сайт, который работает на телефоне. Попросите кого-то из студентов открыть результат на телефоне или в DevTools с мобильным viewport. Это момент, когда виден реальный результат: рабочий сайт, собранный командой агентов.

### 4. Валидация формы

Агент 3 добавляет JavaScript-валидацию. Проверьте вместе со студентами:
- Пустое имя -- ошибка
- Невалидный email -- ошибка
- Сообщение из 3 символов -- ошибка
- Всё заполнено -- "успешная отправка"

Если валидация сломана -- хороший повод показать, как дать фидбэк agent team и попросить исправить.

## Пример выходных данных

Вот фрагменты того, что агенты могут сгенерировать:

**Копирайтер (агент 1) -- hero-секция:**

```
Заголовок: Наладим процессы, которые тормозят рост
Подзаголовок: Аудит, CRM, отделы продаж. 6 лет, 14 человек в команде,
кейсы с конверсией x1.7 и сроками сделки минус 30%.
```

**Верстальщик (агент 2) -- карточка кейса:**

```html
<div class="case-card">
  <h3>ТехноЛайн: дистрибьютор электроники</h3>
  <p class="case-metric">Конверсия: 11% → 19%</p>
  <p class="case-metric">Цикл сделки: 23 → 16 дней</p>
  <p>Внедрили amoCRM с 3 воронками, интегрировали с телефонией и 1С.</p>
</div>
```

**Форма (агент 3) -- валидация:**

```javascript
if (!name.value.trim()) {
  showError(name, 'Укажите имя');
  return;
}
if (!email.value && !phone.value) {
  showError(email, 'Укажите email или телефон');
  return;
}
```

## Ожидаемый результат

- `index.html` -- одностраничный сайт со всеми секциями:
  - Hero с заголовком и подзаголовком
  - Блок услуг (4 карточки)
  - Блок кейсов (6 кейсов с цифрами)
  - О компании
  - Контактная форма с валидацией
  - Подвал с контактами
- Возможно отдельные файлы: `styles.css`, `script.js` (или всё в index.html)

## Отличие от субагентов

На занятии 4 при создании лендинга Claude делал всё сам или запускал субагентов, которые работали изолированно. Здесь:
- Копирайтер и верстальщик общаются: "Мне нужен текст покороче" -- "Вот вариант на 40 слов"
- Верстальщик и разработчик формы синхронизируются: "Я добавил секцию #contact-form, стили вот такие" -- "Ок, подстрою скрипт под эту разметку"
- Если копирайтер решил поменять структуру (например, объединить два кейса), верстальщик узнаёт об этом и адаптируется

## Разрешение конфликтов

### Копирайтер и верстальщик редактируют index.html одновременно

Самый частый конфликт в этом демо. Копирайтер хочет поправить текст, верстальщик -- разметку. Решение: копирайтер пишет тексты в отдельный файл (copy.md или copy.txt), верстальщик берёт оттуда и вставляет в HTML. Если агенты не додумались до этого сами, подскажите: "Копирайтер, пиши тексты в copy.md. Верстальщик, бери оттуда."

### Копирайтер пишет рекламным языком

"Уникальные решения", "комплексный подход", "синергия опыта". Если агент генерирует такое, дайте фидбэк: "Перепиши без маркетинговых клише. Конкретика и цифры вместо прилагательных." Это хороший момент, чтобы напомнить студентам про CLAUDE.md и humanizer guide.

### Форма ломает вёрстку

Агент 3 добавляет HTML-форму и свой CSS, который конфликтует со стилями агента 2. Если сайт "поехал", покажите, как дать команду: "Стили формы конфликтуют с основными. Агент 3, scope-ь CSS через класс .contact-form." Team lead обычно ловит такие проблемы, но не всегда.

## Фолбэки

**Агенты создают разные файлы и не собирают вместе.** Копирайтер пишет copy.md, верстальщик -- layout.html, форма -- form.js, но финального index.html нет. Если так произошло, добавьте в промпт: "Итоговый результат -- один index.html, который можно открыть в браузере."

**CSS-конфликты.** Если верстальщик и разработчик формы оба пишут CSS, возможны конфликты. Team lead обычно разводит: "Стили формы -- scope-ить через .contact-form".

**Сайт не открывается в браузере.** Проверьте, что в HTML нет битых тегов. Если есть, покажите, как дать команду "исправь HTML, он не валидный" и agent team починит.

**Тексты слишком рекламные.** Если копирайтер пишет "уникальные решения" и "комплексный подход", укажите: "Перепиши без маркетинговых клише. Конкретика и цифры вместо прилагательных."

**GLM 4.7 генерирует менее структурированный HTML.** Если вёрстка выглядит сырой, попробуйте добавить: "Верстальщик, используй CSS Grid или Flexbox для карточек. Минимальный стиль: шрифт, отступы, цвета."
