# Демо: Презентация из квартальных данных

## Что делаем

Claude Code получает CSV с финансовыми данными за квартал и создаёт HTML-презентацию на 12 слайдов с графиками Chart.js. При этом запускает два субагента: первый считает аналитику, второй собирает HTML.

## Время выполнения

- Claude (Opus 4.6): 2-4 минуты
- GLM 4.7: 3-6 минут (графики иногда требуют доработки)

## Подготовка

Файл `quarterly-results.csv` уже в папке. Данные за октябрь-декабрь: выручка, расходы, клиенты, сделки, конверсия по пяти отделам (Продажи B2B, Продажи B2C, Консалтинг, Техподдержка, Обучение).

Про отдел Техподдержки: в данных у него конверсия лидов 0%, новых клиентов 0 и расходы выше выручки. Это не ошибка. Техподдержка не продаёт и не привлекает клиентов, это сервисная функция. Выручка там формируется от платных обращений и SLA-контрактов, а не от продаж. Claude должен это понять из контекста и не записывать техподдержку в "проблемные" отделы наравне с продажами. Если запишет, это хороший повод обсудить со студентами, что агент не всегда понимает бизнес-логику.

## Что вводим в Claude Code

```
Проанализируй файл quarterly-results.csv и создай презентацию из 12 слайдов в формате HTML.

Презентация для совета директоров. Нужно:
- Титульный слайд
- Общие итоги квартала: выручка, расходы, прибыль
- Динамика по месяцам (графики)
- Разбивка по отделам: кто растёт, кто просел
- Отдел продаж B2B отдельно — там рост, это хорошая новость
- Техподдержка — убыточна, нужно показать масштаб проблемы
- Конверсия лидов по отделам
- Средний чек и его динамика
- Новые клиенты vs повторные покупки
- Расходы: ФОТ, маркетинг, аренда, прочее
- Выводы и рекомендации
- Слайд "Следующие шаги"

Используй Chart.js для графиков. Дизайн — тёмный фон, светлый текст, минималистично.
```

## Что происходит

1. Claude получает задачу и разбивает на подзадачи
2. Первый субагент читает CSV: считает суммы, находит тренды, определяет проблемные зоны
3. Второй субагент берёт результаты анализа и генерирует HTML с Chart.js-графиками
4. Результат: один HTML-файл, который открывается в браузере

Субагенты работают последовательно (второму нужны результаты первого). Каждый получает только свою часть контекста.

## Пример результата

HTML-файл 15-25 КБ, 12 слайдов. Навигация стрелками. Графики интерактивные (hover показывает значения). Содержит:
- Сводный слайд: общая выручка ~34 млн за квартал, прибыль ~6.5 млн
- Графики динамики: B2B растёт с 4.8 до 6.1 млн, B2C тоже растёт
- Красный флаг: Техподдержка в минусе каждый месяц (расходы выше выручки на 230-270 тыс.)
- Слайд по конверсии: Консалтинг лидирует (26-31%), B2C отстаёт (8-10%)

## Что может пойти не так

**Chart.js не загружается.** Графики подгружаются с CDN. Без интернета не отрисуются. Заранее попросите Claude использовать инлайновую версию, если связь нестабильная.

**Слишком много текста на слайдах.** Добавьте в промпт: "Максимум 5 строк текста на слайд, остальное — графики и цифры."

**Цвета графиков сливаются.** Бывает на проекторе. Попросите Claude использовать контрастную палитру.

**Claude записывает Техподдержку в "провалы" наравне с продажами.** У Техподдержки нет задачи генерировать прибыль — это центр затрат. Если Claude этого не учёл, попросите уточнить: "Техподдержка — сервисный отдел, не продающий. Его убыточность — это норма, но покажи динамику: растут ли расходы?"
